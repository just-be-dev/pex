experimental_monorepo_root = true

[tools]
bun = "1.3.6"
lefthook = "2.0.15"

[env]
_.path = "node_modules/.bin"

[hooks]
postinstall = ["bun install", "lefthook install"]

[settings]
experimental = true
pin = true

[tasks.typecheck]
description = "Type check the project with tsgo"
run = "tsgo --noEmit"

[tasks.test]
description = "Run tests with bun"
run = "bun test"

[tasks.lint]
description = "Lint the project with oxlint"
run = "oxlint ."

[tasks.check]
description = "Run all checks (test, lint, typecheck)"
depends = ["test", "lint", "typecheck"]

# Monorepo convenience tasks - use mise's built-in monorepo syntax:
# mise //packages/tree-sitter-pex:generate
# mise //packages/tree-sitter-pex:build
# mise //packages/tree-sitter-pex:test
# mise '//...:test' - run all test tasks in all packages
